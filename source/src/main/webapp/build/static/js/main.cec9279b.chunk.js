(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{233:function(e,t,n){},234:function(e,t,n){},404:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),i=n(36),s=n.n(i),o=(n(233),n(23)),l=n(13),j=(n(234),n(30)),u=n(39),d=n(409),b=n(415),x=n(56),h={labelCol:{span:8},wrapperCol:{span:16}},O={wrapperCol:{offset:8,span:16}};var p=function(e){var t=e.onFinish,n=void 0===t?function(){}:t,a=e.onFinishFailed,r=void 0===a?function(){}:a;return Object(c.jsxs)(d.a,Object(l.a)(Object(l.a)({},h),{},{name:"basic",initialValues:{},onFinish:n,onFinishFailed:r,children:[Object(c.jsx)(d.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(c.jsx)(b.a,{})}),Object(c.jsx)(d.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(c.jsx)(b.a.Password,{})}),Object(c.jsx)(d.a.Item,Object(l.a)(Object(l.a)({},O),{},{children:Object(c.jsx)(x.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))},m=n(408),f=n(48),g=n.n(f),y="http://localhost:8080/smartblog_war_exploded/api",v="".concat(y,"/dora"),w="".concat(y,"/spec/add"),C="".concat(y,"/spec/delete"),S="".concat(y,"/spec/all"),k="".concat(y,"/spec"),I="".concat(y,"/search"),D="".concat(y,"/spec/setscores"),T="".concat(y,"/review/add"),A="".concat(y,"/changeReviewStatus"),F="".concat(y,"/review/pending"),P="".concat(y,"/login"),R="".concat(y,"/signup"),B="".concat(y,"/profile"),E=n(125),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+e}}},L=function(e){return console.log(q(e)),g.a.get(B,q(e)).then((function(e){return e.data}))},z=n(225);var N=function(e){var t=r.a.useContext(bt).dispatch,n=Object(u.f)();return Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:[Object(c.jsx)(m.a,{title:"Login",bordered:!1,style:{width:300},children:Object(c.jsx)(p,{onFinish:function(e){var c,a;console.log(e),(c=e.email,a=e.password,g.a.post(P,E.stringify({email:c,password:a}),q()).then((function(e){return e.data}))).then((function(e){z.b.success("Login fulfilled");var c=e.message;L(c).then((function(e){t({type:"LOGIN",payload:{user:e,token:c}}),e.phoneNumber?e.rank?n.push("/admin/reviews"):n.push("/admin/speclist"):n.push("/home")}))})).catch((function(e){z.b.error(e.response.data.message)}))},onFinishFailed:function(){}})}),Object(c.jsxs)("p",{children:["Do not have an account?",Object(c.jsx)(j.b,{to:"/signup",children:"Sign up"})]})]})},M={labelCol:{span:8},wrapperCol:{span:16}},U={wrapperCol:{offset:8,span:16}};var G=function(e){var t=e.onFinish,n=void 0===t?function(){}:t,a=e.onFinishFailed,r=void 0===a?function(){}:a;return Object(c.jsxs)(d.a,Object(l.a)(Object(l.a)({},M),{},{name:"basic",initialValues:{},onFinish:n,onFinishFailed:r,children:[Object(c.jsx)(d.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(c.jsx)(b.a,{})}),Object(c.jsx)(d.a.Item,{label:"Email",name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(c.jsx)(b.a,{})}),Object(c.jsx)(d.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(c.jsx)(b.a.Password,{})}),Object(c.jsx)(d.a.Item,{label:"Re-Password",name:"rePassword",rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}],children:Object(c.jsx)(b.a.Password,{})}),Object(c.jsx)(d.a.Item,Object(l.a)(Object(l.a)({},U),{},{children:Object(c.jsx)(x.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))};var J=function(e){var t=Object(u.f)();return Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:[Object(c.jsx)(m.a,{title:"SignUp",bordered:!1,style:{width:300},children:Object(c.jsx)(G,{onFinish:function(e){console.log(e),function(e){return g.a.post(R,E.stringify(e),q()).then((function(e){return e.data}))}(e).then((function(e){z.b.success("Registration completed successfully"),console.log(e),t.push("/home")})).catch((function(e){console.log(e),z.b.error(e.response.data.message)}))},onFinishFailed:function(){}})}),Object(c.jsxs)("p",{children:["Do you have an account? ",Object(c.jsx)(j.b,{to:"/login",children:"Log in"})]})]})},W=n(112),V=m.a.Meta;var _=function(e){var t=e.title,n=e.imageUrl,a=e.description,r=e.id,i=e.onClick,s=e.openInNewTab,o=void 0!==s&&s,l=Object(u.f)();return Object(c.jsx)("div",{style:{padding:"10px"},onClick:function(){i?i():r&&(o?window.open("/details?id="+r):l.push("/details?id="+r))},children:Object(c.jsx)(m.a,{hoverable:!0,style:{width:240},cover:Object(c.jsx)("img",{alt:"example",src:n}),children:Object(c.jsx)(V,{title:t,description:a})})})},Y=n(419),H=n(411),K=n(125),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+e}}},X=function(e){return g.a.get(k+"?id="+e).then((function(e){return e.data}))},Z=function(){return g.a.get(S).then((function(e){return e.data}))},$=n(220),ee=H.a.Title,te=function(e){var t="";return e.so&&(t+="OS: "+e.so),e.memory&&(t+="  Memory: "+e.memory),e.ram&&(t+="  RAM: "+e.ram),t};var ne=function(e){var t,n=Object(a.useState)([]),r=Object(o.a)(n,2),i=r[0],s=r[1],l=Object(a.useState)(1),u=Object(o.a)(l,2),d=u[0],b=u[1];return Object(a.useEffect)((function(){Z().then((function(e){console.log(e),s(e)}))}),[]),Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(c.jsx)(ee,{level:2,style:{margin:"0x",marginTop:"20px"},children:"Are you looking for a smartphone?"}),Object(c.jsx)(j.b,{to:"/dora",children:Object(c.jsx)(x.a,{type:"primary",shape:"round",icon:Object(c.jsx)(Y.a,{}),children:"Discover DoraIA"})}),Object(c.jsx)(ee,{style:{marginTop:"20px"},children:"New arrivals"}),Object(c.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"wrap"},children:i.slice(10*(d-1),10*d).map((function(e,t){return Object(c.jsx)(_,{imageUrl:e.image,title:e.name+" - "+e.price+"\u20ac",description:te(e),id:e.id},t)}))}),Object(c.jsx)($.a,(t={size:"small",total:10,onChange:b},Object(W.a)(t,"total",i&&i.length),Object(W.a)(t,"showSizeChanger",!1),t))]})};var ce=function(e){var t=e.style;return Object(c.jsx)("div",{style:Object(l.a)(Object(l.a)({},{display:"flex",flexDirection:"row",alignItems:"center"}),t),children:e.children})},ae=n(413),re=n(206);var ie=function(e){var t=e.icon,n=void 0===t?"":t,a=e.title,r=void 0===a?"":a,i=e.value,s=void 0===i?"":i;return Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"20px"},children:[Object(c.jsx)(ae.a,{style:{backgroundColor:"#919191"},size:"large",icon:Object(c.jsx)(re.a,{icon:n})}),Object(c.jsx)("p",{style:{margin:"0px"},children:Object(c.jsx)("b",{children:r})}),Object(c.jsx)("p",{style:{margin:"0px"},children:s.substring(0,10)})]})};var se=function(e){var t=e.data;return Object(c.jsx)(ce,{style:{flexWrap:"wrap"},children:t.map((function(e,t){return Object(c.jsx)(ie,{title:e.key,value:e.value,icon:e.icon},t)}))})},oe=n(420);function le(e){return e?le(e-1).concat(e):[]}var je=function(e){var t=e.title,n=e.subtitle,a=void 0===n?"":n,r=e.camera,i=e.display,s=e.performance,o=e.battery,l=e.description;return Object(c.jsxs)("div",{style:{margin:"10px",padding:"10px",backgroundColor:"#fff",width:"250px",borderRadius:"5px",boxShadow:"0px 0px 5px rgba(0,0,0,0.1)"},children:[Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[Object(c.jsx)("h2",{style:{margin:"0px"},children:t}),Object(c.jsx)("p",{style:{margin:"0px"},children:a})]}),Object(c.jsxs)(ce,{style:{justifyContent:"space-between",width:"100%"},children:[Object(c.jsx)("p",{style:{margin:"0px"},children:"Camera"}),Object(c.jsx)(ce,{children:le(r).map((function(e){return Object(c.jsx)(oe.a,{})}))})]}),Object(c.jsxs)(ce,{style:{justifyContent:"space-between",width:"100%"},children:[Object(c.jsx)("p",{style:{margin:"0px"},children:"Display"}),Object(c.jsx)(ce,{children:le(i).map((function(e){return Object(c.jsx)(oe.a,{})}))})]}),Object(c.jsxs)(ce,{style:{justifyContent:"space-between",width:"100%"},children:[Object(c.jsx)("p",{style:{margin:"0px"},children:"Performance"}),Object(c.jsx)(ce,{children:le(s).map((function(e){return Object(c.jsx)(oe.a,{})}))})]}),Object(c.jsxs)(ce,{style:{justifyContent:"space-between",width:"100%"},children:[Object(c.jsx)("p",{style:{margin:"0px"},children:"Battery"}),Object(c.jsx)(ce,{children:le(o).map((function(e){return Object(c.jsx)(oe.a,{})}))})]}),Object(c.jsx)("p",{style:{marginTop:"20px"},children:l})]})},ue=n(79),de=n(422),be=n(416),xe=n(108),he=n(68),Oe=n(412),pe=n(53),me=n(208),fe=n(421),ge=n(414),ye=b.a.TextArea,ve=H.a.Title;var we=function(e){var t=e.onSave,n=void 0===t?function(){}:t,r=Object(a.useState)({totalScore:5,performance:5,display:5,camera:5,battery:5,text:""}),i=Object(o.a)(r,2),s=i[0],j=i[1];return Object(c.jsxs)("div",{children:[Object(c.jsxs)(ce,{style:{justifyContent:"space-between"},children:[Object(c.jsx)(ve,{level:5,style:{margin:"0px"},children:"Overall rating"}),Object(c.jsx)(ge.a,{onChange:function(e){return j(Object(l.a)(Object(l.a)({},s),{},{totalScore:e}))},value:s.totalScore,allowClear:!1})]}),Object(c.jsxs)(ce,{style:{justifyContent:"space-between"},children:[Object(c.jsx)(ve,{level:5,style:{margin:"0px"},children:"Camera"}),Object(c.jsx)(ge.a,{onChange:function(e){return j(Object(l.a)(Object(l.a)({},s),{},{camera:e}))},value:s.camera,allowClear:!1})]}),Object(c.jsxs)(ce,{style:{justifyContent:"space-between"},children:[Object(c.jsx)(ve,{level:5,style:{margin:"0px"},children:"Display "}),Object(c.jsx)(ge.a,{onChange:function(e){return j(Object(l.a)(Object(l.a)({},s),{},{display:e}))},value:s.display,allowClear:!1})]}),Object(c.jsxs)(ce,{style:{justifyContent:"space-between"},children:[Object(c.jsx)(ve,{level:5,style:{margin:"0px"},children:"Performance"}),Object(c.jsx)(ge.a,{onChange:function(e){return j(Object(l.a)(Object(l.a)({},s),{},{performance:e}))},value:s.performance,allowClear:!1})]}),Object(c.jsxs)(ce,{style:{justifyContent:"space-between"},children:[Object(c.jsx)(ve,{level:5,style:{margin:"0px"},children:"Battery"}),Object(c.jsx)(ge.a,{onChange:function(e){return j(Object(l.a)(Object(l.a)({},s),{},{battery:e}))},value:s.battery,allowClear:!1})]}),Object(c.jsx)(ye,{rows:4,placeholder:"Descrizione",value:s.text,onChange:function(e){return j(Object(l.a)(Object(l.a)({},s),{},{text:e.target.value}))}}),Object(c.jsx)("div",{style:{width:"100%",justifyContent:"flex-end",marginTop:"20px",display:"flex"},children:Object(c.jsx)(x.a,{type:"primary",onClick:function(){n(s)},children:"Add"})})]})},Ce=n(125),Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+e}}},ke=H.a.Title;var Ie=function(e){var t="";return e.so&&(t+="OS: "+e.so),e.memory&&(t+="  Memory: "+e.memory),e.ram&&(t+="  RAM: "+e.ram),t};var De=function(e){var t=new URLSearchParams(Object(u.g)().search).get("id"),n=r.a.useContext(bt).state,i=Object(u.f)(),s=Object(a.useState)({name:"",image:""}),j=Object(o.a)(s,2),d=j[0],b=j[1],h=Object(a.useState)([]),O=Object(o.a)(h,2),p=O[0],f=O[1],y=Object(a.useState)([]),v=Object(o.a)(y,2),w=v[0],C=v[1],S=Object(a.useState)(!1),k=Object(o.a)(S,2),I=k[0],D=k[1];return Object(a.useEffect)((function(){X(t).then((function(e){console.log(e),b(e)})).catch((function(e){i.push("/404"),console.log(e)}))}),[]),Object(a.useEffect)((function(){if(d){console.log(JSON.parse(JSON.stringify(d)));var e=[{key:"SO",value:d.so,icon:me.a},{key:"cpu",value:d.cpu,icon:pe.d},{key:"chipset",value:d.chipset,icon:pe.c},{key:"gpu",value:d.gpu,icon:pe.b},{key:"ram",value:d.ram,icon:pe.c},{key:"storage",value:d.memory,icon:pe.f},{key:"screenSize",value:d.screenSize,icon:pe.e}],t=[{key:"Display",value:String(d.display),icon:pe.e},{key:"Camera",value:String(d.camera),icon:pe.a},{key:"Performance",value:String(d.performance),icon:pe.d}];console.log(e),f(e),C(t)}}),[d]),Object(c.jsxs)("div",{style:{marginTop:"20px"},children:[Object(c.jsxs)(be.a,{children:[Object(c.jsx)(be.a.Item,{href:"/home",children:Object(c.jsx)(fe.a,{})}),Object(c.jsx)(be.a.Item,{children:d.name})]}),Object(c.jsxs)(xe.a,{children:[Object(c.jsx)(he.a,{xs:{span:5,offset:1},lg:{span:6,offset:2},children:Object(c.jsxs)("div",{style:{alignItems:"center",width:"100%",display:"flex",flexDirection:"column"},children:[Object(c.jsx)(_,{imageUrl:d.image,title:d.name+" - "+d.price+"\u20ac",description:Ie(d)}),Object(c.jsx)(x.a,{shape:"round",style:{backgroundColor:"#ff9900"},icon:Object(c.jsx)(de.a,{}),onClick:function(){window.location.href="https://www.amazon.it/s?k="+d.name},children:"Buy on Amazon"})]})}),Object(c.jsx)(he.a,{xs:{span:11,offset:1},lg:{span:6,offset:2},children:Object(c.jsxs)("div",{style:{alignItems:"center",width:"100%",display:"flex",flexDirection:"column"},children:[Object(c.jsx)(ke,{children:d.name}),d&&d.reviewer&&Object(c.jsx)(m.a,{title:"Scores offered by "+d.reviewer.username,children:Object(c.jsx)(se,{data:w})}),Object(c.jsx)(m.a,{title:"Data sheet",style:{marginTop:"20px"},children:Object(c.jsx)(se,{data:p})})]})}),Object(c.jsx)(he.a,{xs:{span:5,offset:1},lg:{span:6,offset:2},children:Object(c.jsxs)("div",{style:{alignItems:"center",width:"100%",display:"flex",flexDirection:"column"},children:[d&&d.reviews&&d.reviews.length>0?d.reviews.map((function(e){return Object(c.jsx)(je,{title:e.user.username,camera:e.camera,display:e.display,performance:e.performance,battery:e.battery,description:e.text})})):Object(c.jsx)(ue.a,{}),Object(c.jsx)(x.a,{type:"primary",onClick:function(){return D(!0)},children:"Add review"})]})})]}),Object(c.jsx)(Oe.a,{title:"Add new review",visible:I,footer:[],onCancel:function(){D(!1)},children:Object(c.jsx)(we,{onSave:function(e){n.token?function(e,t){return g.a.post(T,Ce.stringify(e),Se(t)).then((function(e){return e.data}))}(Object(l.a)(Object(l.a)({},e),{},{specId:t}),n.token).then((function(e){z.b.success("Review added ... Will be checked shortly"),console.log(e),D(!1)})).catch((function(e){z.b.error(e.response.data.message),console.log(e)})):(z.b.error("You need to log in to add a review"),i.push("/login"))}})})]})},Te=n(406),Ae=n(423),Fe=H.a.Title,Pe=H.a.Paragraph;var Re=function(e){var t=Object(u.f)(),n=r.a.useContext(bt),i=n.dispatch,s=n.state,l=Object(a.useState)([]),j=Object(o.a)(l,2),d=j[0],b=j[1];return Object(a.useEffect)((function(){s&&s.token&&L(s.token).then((function(e){return b(e.reviews)}))}),[s]),Object(c.jsx)("div",{children:s&&s.token?Object(c.jsxs)("div",{style:{marginTop:"20px",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(c.jsx)(ae.a,{style:{backgroundColor:"#f56a00",verticalAlign:"middle"},size:{xs:24,sm:32,md:40,lg:64,xl:80,xxl:100},icon:Object(c.jsx)(Ae.a,{})}),Object(c.jsx)(Fe,{level:3,style:{marginBottom:"0px"},children:s&&s.user&&s.user.email||"test@test.com"}),Object(c.jsx)(Pe,{children:Object(c.jsx)("b",{children:s&&s.user&&s.user.username||"Test"})})]}),Object(c.jsx)(Fe,{level:2,children:"My reviews"}),Object(c.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"wrap"},children:d.length>0?d.map((function(e,t){return Object(c.jsx)(je,{title:e.spec.name,subtitle:e.state,camera:e.camera,display:e.display,performance:e.performance,battery:e.battery,description:e.text},t)})):Object(c.jsx)(ue.a,{})}),Object(c.jsx)(x.a,{type:"primary",style:{marginTop:"30px"},onClick:function(){i({type:"LOGOUT"}),window.location.href="/home"},children:"Logout"})]}):Object(c.jsx)("div",{style:{marginTop:"20px",display:"flex",flexDirection:"column",alignItems:"center"},children:Object(c.jsx)(x.a,{type:"primary",style:{marginTop:"30px"},onClick:function(){t.push("/login")},children:"You must be logged in to view this page"})})})},Be=n(410),Ee=n(119),qe=Ee.a.Option;var Le=function(e){var t=e.onSearch,n=void 0===t?function(){}:t,r=Object(a.useState)({battery:3,performance:3,display:3,camera:3,maxBudget:"300"}),i=Object(o.a)(r,2),s=i[0],j=i[1];return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{style:{marginBottom:"0px"},children:"Batteriy"}),Object(c.jsx)(Be.a,{min:0,max:5,step:.5,onChange:function(e){j(Object(l.a)(Object(l.a)({},s),{},{battery:e}))},value:s.battery})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{style:{marginBottom:"0px"},children:"Camera"}),Object(c.jsx)(Be.a,{min:0,max:5,step:.5,onChange:function(e){j(Object(l.a)(Object(l.a)({},s),{},{camera:e}))},value:s.camera})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{style:{marginBottom:"0px"},children:"Display"}),Object(c.jsx)(Be.a,{min:0,max:5,step:.5,onChange:function(e){j(Object(l.a)(Object(l.a)({},s),{},{display:e}))},value:s.display})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{style:{marginBottom:"0px"},children:"Performance"}),Object(c.jsx)(Be.a,{min:0,max:5,step:.5,onChange:function(e){j(Object(l.a)(Object(l.a)({},s),{},{performance:e}))},value:s.performance})]}),Object(c.jsxs)("div",{style:{marginTop:"20px"},children:[Object(c.jsx)("p",{style:{marginBottom:"0px"},children:"Max price"}),Object(c.jsxs)(Ee.a,{style:{width:120},onChange:function(e){j(Object(l.a)(Object(l.a)({},s),{},{maxBudget:e}))},value:s.maxBudget,children:[Object(c.jsx)(qe,{value:"100",children:"100"}),Object(c.jsx)(qe,{value:"200",children:"200"}),Object(c.jsx)(qe,{value:"300",children:"300"}),Object(c.jsx)(qe,{value:"400",children:"400"}),Object(c.jsx)(qe,{value:"500",children:"500"}),Object(c.jsx)(qe,{value:"600",children:"600"}),Object(c.jsx)(qe,{value:"700",children:"700"}),Object(c.jsx)(qe,{value:"800",children:"800"}),Object(c.jsx)(qe,{value:"900",children:"900"}),Object(c.jsx)(qe,{value:"300000",children:"+1000"})]})]}),Object(c.jsx)(x.a,{type:"primary",block:!0,onClick:function(){n(s)},style:{marginTop:"30px"},children:"Search!"})]})},ze=n(125),Ne=n(210),Me=function(e){var t="";return e.so&&(t+="OS: "+e.so),e.memory&&(t+="  Memory: "+e.memory),e.ram&&(t+="  RAM: "+e.ram),t};var Ue=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),i=n[0],s=n[1],l=Object(a.useState)(!1),j=Object(o.a)(l,2),u=j[0],d=j[1],b=r.a.useContext(bt).state;return Object(c.jsxs)("div",{children:[Object(c.jsxs)(be.a,{children:[Object(c.jsx)(be.a.Item,{href:"/home",children:Object(c.jsx)(fe.a,{})}),Object(c.jsx)(be.a.Item,{href:"/dora",children:Object(c.jsx)("span",{children:"DoraIA"})})]}),Object(c.jsxs)("div",{style:{marginTop:"20px",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(c.jsx)(Ne.a,{spinning:u,tip:"Dora l'esploratrice sta cercando...",size:"large",children:Object(c.jsx)(m.a,{title:"DoraIA",style:{margin:"20px",width:"300px"},children:Object(c.jsx)(Le,{onSearch:function(e){var t,n;b&&b.token?(console.log(e),d(!0),z.b.warning("Aspetta qualche secondo"),(t=e,n=b.token,g.a.post(v,ze.stringify(t),function(){return{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}}(n)).then((function(e){return e.data}))).then((function(e){d(!1),console.log(e),s(e)})).catch((function(e){console.log(e),d(!1),z.b.error("Unable to load data from DoraIA")}))):z.b.error("You must register in order to use DoraIA")}})})}),i.length>0&&Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Search Results"}),Object(c.jsx)(ce,{style:{flexWrap:"wrap"},children:i.map((function(e,t){return Object(c.jsx)(_,{imageUrl:e.image,title:e.name+" - "+e.price+"\u20ac",description:Me(e),id:e.id,openInNewTab:!0},t)}))})]})]})]})},Ge=H.a.Title;var Je=function(e){var t="";return e.so&&(t+="OS: "+e.so),e.memory&&(t+="  Memory: "+e.memory),e.ram&&(t+="  RAM: "+e.ram),t};var We=function(e){var t=new URLSearchParams(Object(u.g)().search).get("s"),n=Object(a.useState)([]),r=Object(o.a)(n,2),i=r[0],s=r[1],l=Object(a.useState)(1),d=Object(o.a)(l,2),b=d[0],h=d[1],O=Object(u.f)();return Object(a.useEffect)((function(){(function(e){return g.a.get(I+"?s="+e).then((function(e){return e.data}))})(t).then((function(e){console.log(e),s(e)})).catch((function(e){O.push("/404"),console.log(e),z.b.error("Unable to complete the search")}))}),[]),Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(c.jsx)(Ge,{children:"Search Results"}),Object(c.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"wrap"},children:i&&i.length>0?i.slice(50*(b-1),50*b).map((function(e,t){return Object(c.jsx)(_,{imageUrl:e.image,title:e.name+" - "+e.price,description:Je(e),id:e.id},t)})):Object(c.jsx)(ue.a,{})}),i&&0!==i.length&&Object(c.jsx)($.a,{size:"small",total:50,onChange:h}),Object(c.jsx)(Ge,{level:2,style:{margin:"0x",marginTop:"20px"},children:"Are you looking for a smartphone?"}),Object(c.jsx)(j.b,{to:"/dora",children:Object(c.jsx)(x.a,{type:"primary",shape:"round",icon:Object(c.jsx)(Y.a,{}),children:"Discover DoraIA"})})]})},Ve=b.a.Search;var _e=function(e){var t=e.onSearch;return Object(c.jsx)(Ve,{placeholder:"input search text",onSearch:t,enterButton:!0})};Te.a.Header;var Ye=function(e){var t=r.a.useContext(bt).state,n=Object(a.useState)(!1),i=Object(o.a)(n,2),s=(i[0],i[1]),l=Object(a.useState)(!1),u=Object(o.a)(l,2),d=u[0],b=u[1];return Object(a.useEffect)((function(){t&&t.user&&t.user.phoneNumber&&(t.user.rank?b(!0):s(!0))}),[t]),Object(c.jsxs)(ce,{style:{height:"100%",justifyContent:"space-between"},children:[Object(c.jsx)(j.b,{to:"/home",children:Object(c.jsx)("h1",{children:"SmartBlog"})}),Object(c.jsx)(ce,{style:{maxWidth:"400px"},children:Object(c.jsxs)("div",{style:{marginLeft:"20px"},children:[Object(c.jsx)(j.b,{to:"/admin/speclist",style:{marginRight:"20px"},children:"Technical data sheets list"}),d&&Object(c.jsx)(j.b,{to:"/admin/reviews",style:{marginRight:"20px"},children:"Reviews"}),Object(c.jsx)(j.b,{to:"/home",children:Object(c.jsx)(ae.a,{style:{backgroundColor:"#f56a00",verticalAlign:"middle"},size:"large",icon:Object(c.jsx)(fe.a,{})})})]})})]})},He=Te.a.Header;var Ke=function(e){var t=Object(u.g)(),n=Object(a.useState)(!1),i=Object(o.a)(n,2),s=i[0],l=i[1],d=Object(a.useState)(!1),b=Object(o.a)(d,2),h=b[0],O=b[1],p=Object(a.useState)(!1),m=Object(o.a)(p,2),f=m[0],g=m[1],y=r.a.useContext(bt).state;return Object(a.useEffect)((function(){y&&y.user&&y.user.phoneNumber&&(y.user.rank?g(!0):O(!0))}),[y]),Object(a.useEffect)((function(){l(!!t.pathname.includes("admin"))}),[t]),Object(c.jsx)(He,{style:{backgroundColor:"#ccd3de"},children:(h||f)&&s?Object(c.jsx)(Ye,{}):Object(c.jsxs)(ce,{style:{height:"100%",justifyContent:"space-between"},children:[Object(c.jsx)(j.b,{to:"/home",children:Object(c.jsx)("h1",{children:"SmartBlog"})}),Object(c.jsxs)(ce,{style:{maxWidth:"400px"},children:[Object(c.jsx)(_e,{onSearch:function(e){window.location.href="/search?s="+e}}),y&&y.isAuthenticated?Object(c.jsx)("div",{style:{marginLeft:"20px",display:"flex",flexDirection:"column",alignItems:"center"},children:Object(c.jsx)(j.b,{to:"/profile",children:Object(c.jsx)(ae.a,{style:{backgroundColor:"#f56a00",verticalAlign:"middle"},size:"large",icon:Object(c.jsx)(Ae.a,{})})})}):Object(c.jsx)(j.b,{to:"/login",children:Object(c.jsx)(x.a,{type:"primary",style:{marginRight:"20px"},children:"Login"})}),h&&Object(c.jsx)("div",{style:{marginLeft:"20px"},children:Object(c.jsx)(j.b,{to:"/admin/speclist",children:Object(c.jsx)(ae.a,{style:{backgroundColor:"#f56a00",verticalAlign:"middle"},size:"large",icon:Object(c.jsx)(fe.a,{})})})}),f&&Object(c.jsx)("div",{style:{marginLeft:"20px"},children:Object(c.jsx)(j.b,{to:"/admin/reviews",children:Object(c.jsx)(ae.a,{style:{backgroundColor:"#f56a00",verticalAlign:"middle"},size:"large",icon:Object(c.jsx)(fe.a,{})})})})]})]})})},Qe=n(222),Xe=n(418),Ze=n(407);var $e=function(e){var t=Object(u.f)(),n=Object(a.useState)([]),i=Object(o.a)(n,2),s=i[0],l=i[1],j=Object(a.useState)(""),d=Object(o.a)(j,2),b=d[0],h=d[1],O=Object(a.useState)([]),p=Object(o.a)(O,2),m=p[0],f=p[1],y=r.a.useContext(bt).state,v=Object(a.useState)(!1),w=Object(o.a)(v,2),S=w[0],k=w[1],I=Object(a.useState)(!1),D=Object(o.a)(I,2),T=D[0],A=D[1];Object(a.useEffect)((function(){y&&y.user&&y.user.phoneNumber&&(y.user.rank?A(!0):k(!0))}),[y]),Object(a.useEffect)((function(){F()}),[]);var F=function(){Z().then((function(e){console.log(e),l(e)}))};Object(a.useEffect)((function(){""!==b.trim("")?(console.log("i have to filter..."),f(s.filter((function(e){return e.name.toLowerCase().includes(b.toLowerCase())})))):f(s)}),[s,b]);var P=function(e){var t,n;console.log(e.id),(t=e.id,n=y.token,g.a.post(C,K.stringify({specId:t}),Q(n)).then((function(e){return e.data}))).then((function(e){z.b.success("Data sheet deleted"),F(),console.log(e)})).catch((function(e){z.b.error(e.response.data.message),console.log(e)}))};Object(a.useEffect)((function(){console.log("Admin: ",S," | Reviewer: ",T)}),[T,S]);var R=Object(a.useState)([{title:"Device name",dataIndex:"name",key:"name"},{title:"Release date",dataIndex:"date",key:"date"}]),B=Object(o.a)(R,2),E=B[0],q=B[1];return Object(a.useEffect)((function(){S&&q([].concat(Object(Qe.a)(E),[{title:"Actions",key:"action",render:function(e,t){return Object(c.jsx)(Xe.b,{size:"middle",children:Object(c.jsx)(x.a,{type:"link",onClick:function(){"ok"===prompt("Type ok to confirm the deletion","cancel")&&P(t)},children:"Delete"})})}}]))}),[S]),Object(c.jsxs)("div",{style:{marginTop:"20px",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(c.jsx)("div",{style:{margin:"20px"},children:Object(c.jsx)(_e,{onSearch:function(e){h(e)}})}),Object(c.jsx)(Ze.a,{dataSource:m,columns:E,onRow:function(e,n){return{onClick:function(n){var c;T&&(c=e.id,t.push("/admin/setscores?id="+c))}}}}),S&&Object(c.jsx)(x.a,{type:"primary",style:{marginTop:"20px"},onClick:function(){t.push("/admin/createSpec")},children:" Add data sheet"})]})};var et=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),i=n[0],s=n[1],j=Object(a.useState)(!1),u=Object(o.a)(j,2),d=u[0],b=u[1],h=Object(a.useState)(),O=Object(o.a)(h,2),p=O[0],m=O[1],f=r.a.useContext(bt).state;Object(a.useEffect)((function(){y()}),[]);var y=function(){var e;m(void 0),(e=f.token,g.a.get(F,Se(e)).then((function(e){return e.data}))).then((function(e){var t=e.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{title:e.spec.name+" | "+e.user.username})}));s(t)})).catch((function(e){console.log(e),z.b.error(e.response.data.message)}))};Object(a.useEffect)((function(){b(!!p)}),[p]);var v=function(e,t){(function(e,t){return g.a.post(A,Ce.stringify(e),Se(t)).then((function(e){return e.data}))})({id:e.id,approved:t},f.token).then((function(e){console.log(e),z.b.success("Correctly updated review"),y()})).catch((function(e){console.log(e),z.b.error(e.response.data.message)}))};return Object(c.jsxs)("div",{children:[Object(c.jsx)(Ze.a,{dataSource:i,columns:[{title:"Reviews to be evaluated",dataIndex:"title",key:"title"}],onRow:function(e,t){return{onClick:function(t){m(e)}}}}),Object(c.jsx)(Oe.a,{title:"Review details",visible:d,onCancel:function(){m(void 0)},footer:[Object(c.jsx)(x.a,{onClick:function(){v(p,!1)},children:"Reject"}),Object(c.jsx)(x.a,{type:"primary",onClick:function(){v(p,!0)},children:"Approve"})],children:p&&Object(c.jsx)(je,{title:p.user.email,camera:p.camera,display:p.display,performance:p.performance,battery:p.battery,description:p.text})})]})},tt={labelCol:{span:8},wrapperCol:{span:16}},nt={wrapperCol:{offset:8,span:16}};var ct=function(e){var t=e.onFinish,n=void 0===t?function(){}:t,a=e.onFinishFailed,r=void 0===a?function(){}:a;return Object(c.jsxs)(d.a,Object(l.a)(Object(l.a)({},tt),{},{name:"basic",initialValues:{remember:!0},onFinish:n,onFinishFailed:r,children:[Object(c.jsx)(d.a.Item,{label:"Device name",name:"deviceName",rules:[{required:!0}],children:Object(c.jsx)(b.a,{})}),Object(c.jsx)(d.a.Item,{label:"Release date",name:"releaseDate",rules:[{required:!0}],children:Object(c.jsx)(b.a,{})}),Object(c.jsx)(d.a.Item,{label:"SO",name:"OS",rules:[{required:!0}],children:Object(c.jsx)(b.a,{})}),Object(c.jsx)(d.a.Item,{label:"CPU",name:"CPU",rules:[{required:!0}],children:Object(c.jsx)(b.a,{})}),Object(c.jsx)(d.a.Item,{label:"Chipset",name:"chipset",rules:[{required:!0}],children:Object(c.jsx)(b.a,{})}),Object(c.jsx)(d.a.Item,{label:"GPU",name:"GPU",rules:[{required:!0}],children:Object(c.jsx)(b.a,{})}),Object(c.jsx)(d.a.Item,{label:"RAM",name:"RAM",rules:[{required:!0}],children:Object(c.jsx)(b.a,{placeholder:"in MB or GB"})}),Object(c.jsx)(d.a.Item,{label:"Internal Memory",name:"internalMemory",rules:[{required:!0}],children:Object(c.jsx)(b.a,{placeholder:"in MB or GB"})}),Object(c.jsx)(d.a.Item,{label:"Battery",name:"battery",rules:[{required:!0}],children:Object(c.jsx)(b.a,{placeholder:"Insert number only"})}),Object(c.jsx)(d.a.Item,{label:"Display",name:"displayInches",rules:[{required:!0}],children:Object(c.jsx)(b.a,{})}),Object(c.jsx)(d.a.Item,{label:"Price",name:"price",rules:[{required:!0}],children:Object(c.jsx)(b.a,{placeholder:"Insert number only"})}),Object(c.jsx)(d.a.Item,{label:"Image url",name:"image",rules:[{required:!0}],children:Object(c.jsx)(b.a,{})}),Object(c.jsx)(d.a.Item,Object(l.a)(Object(l.a)({},nt),{},{children:Object(c.jsx)(x.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))};var at=function(e){var t=r.a.useContext(bt).state,n=Object(u.f)();return Object(c.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:Object(c.jsx)(m.a,{title:"Login",bordered:!1,style:{width:400,marginTop:"30px"},children:Object(c.jsx)(ct,{onFinish:function(e){var c,a;(c=e,a=t.token,console.log(w),g.a.post(w,K.stringify(c),Q(a)).then((function(e){return e.data}))).then((function(e){console.log(e),z.b.success("New data sheet created"),n.push("/admin/speclist")})).catch((function(e){console.log(e),z.b.error(e.response.data.message)}))}})})})},rt={labelCol:{span:8},wrapperCol:{span:16}},it={wrapperCol:{offset:8,span:16}};var st=function(e){var t=e.initialValues,n=void 0===t?{}:t,a=e.onFinish,r=void 0===a?function(){}:a,i=e.onFinishFailed,s=void 0===i?function(){}:i;return Object(c.jsxs)(d.a,Object(l.a)(Object(l.a)({},rt),{},{name:"basic",initialValues:n,onFinish:r,onFinishFailed:s,children:[Object(c.jsx)(d.a.Item,{label:"Performance",name:"performance",rules:[{required:!0,message:"Please input the performance!"}],children:Object(c.jsx)(b.a,{})}),Object(c.jsx)(d.a.Item,{label:"Camera",name:"camera",rules:[{required:!0,message:"Please input the camera!"}],children:Object(c.jsx)(b.a,{})}),Object(c.jsx)(d.a.Item,{label:"Display",name:"display",rules:[{required:!0,message:"Please input the display!"}],children:Object(c.jsx)(b.a,{})}),Object(c.jsx)(d.a.Item,Object(l.a)(Object(l.a)({},it),{},{children:Object(c.jsx)(x.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))};var ot=function(e){var t=new URLSearchParams(Object(u.g)().search).get("id"),n=r.a.useContext(bt).state,i=Object(a.useState)({name:""}),s=Object(o.a)(i,2),j=s[0],d=s[1],b=Object(u.f)();return Object(a.useEffect)((function(){X(t).then((function(e){console.log(e),d(e)})).catch((function(e){b.push("/404"),console.log(e)}))}),[]),Object(c.jsxs)("div",{style:{marginTop:"20px",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(c.jsx)("h2",{children:j.name}),Object(c.jsx)("div",{children:j&&j.id&&Object(c.jsx)(st,{initialValues:j,onFinish:function(e){var c,a;console.log(e),(c=Object(l.a)(Object(l.a)({},e),{},{specId:t}),a=n.token,g.a.post(D,K.stringify(c),Q(a)).then((function(e){return e.data}))).then((function(e){z.b.success("Scores updated successfully"),b.push("/admin/speclist")})).catch((function(e){console.log(e),z.b.error(e.response.data.message)}))}})})]})},lt=n(417);var jt=function(e){var t=Object(u.f)();return Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:[Object(c.jsx)(lt.a,{status:"404",title:"404",subTitle:"The page you searched for does not exist",extra:Object(c.jsx)(x.a,{type:"primary",onClick:function(){t.push("/home")},children:"Back to home Page"})}),","]})},ut=Te.a.Content;var dt=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),i=n[0],s=n[1],l=Object(a.useState)(!1),d=Object(o.a)(l,2),b=d[0],x=d[1],h=r.a.useContext(bt).state;return Object(a.useEffect)((function(){h&&h.user&&h.user.phoneNumber&&(h.user.rank?x(!0):s(!0))}),[h]),Object(a.useEffect)((function(){console.log("Admin: ",i," | Reviewer: ",b)}),[b,i]),Object(c.jsx)(j.a,{basename:"/smartblog_war_exploded/build",children:Object(c.jsxs)(Te.a,{style:{height:"100%",backgroundColor:"transparent"},children:[Object(c.jsx)(Ke,{}),Object(c.jsx)(ut,{style:{padding:"0 50px",height:"100%",marginTop:"20px",backgroundColor:"transparent"},children:Object(c.jsxs)(u.c,{children:[Object(c.jsx)(u.a,{exact:!0,path:"/login",component:N}),Object(c.jsx)(u.a,{exact:!0,path:"/signup",component:J}),Object(c.jsx)(u.a,{exact:!0,path:"/details",component:De}),Object(c.jsx)(u.a,{exact:!0,path:"/profile",component:Re}),Object(c.jsx)(u.a,{exact:!0,path:"/dora",component:Ue}),Object(c.jsx)(u.a,{exact:!0,path:"/search",component:We}),Object(c.jsx)(u.a,{exact:!0,path:"/home",component:ne}),Object(c.jsx)(u.a,{exact:!0,path:"/admin/speclist",component:function(){return i||b?Object(c.jsx)($e,{}):Object(c.jsx)(N,{})}}),Object(c.jsx)(u.a,{exact:!0,path:"/admin/createspec",component:function(){return i?Object(c.jsx)(at,{}):Object(c.jsx)(N,{})}}),Object(c.jsx)(u.a,{exact:!0,path:"/admin/reviews",component:function(){return b?Object(c.jsx)(et,{}):Object(c.jsx)(N,{})}}),Object(c.jsx)(u.a,{exact:!0,path:"/admin/setscores",component:function(){return b?Object(c.jsx)(ot,{}):Object(c.jsx)(N,{})}}),Object(c.jsx)(u.a,{component:function(){return Object(c.jsx)(jt,{})}})]})})]})})},bt=(n(403),r.a.createContext()),xt={isAuthenticated:!1,user:null,token:null},ht=function(e,t){switch(t.type){case"LOGIN":return localStorage.setItem("user",JSON.stringify(t.payload.user)),localStorage.setItem("token",JSON.stringify(t.payload.token)),Object(l.a)(Object(l.a)({},e),{},{isAuthenticated:!0,user:t.payload.user,token:t.payload.token});case"LOGOUT":return localStorage.clear(),Object(l.a)(Object(l.a)({},e),{},{isAuthenticated:!1,user:null,token:null});default:return e}};var Ot=function(){var e=r.a.useReducer(ht,xt),t=Object(o.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user")),t=JSON.parse(localStorage.getItem("token"));console.log("Token => ",t),t&&!t.includes(null)&&i({type:"LOGIN",payload:{user:e,token:t}})}),[]),Object(c.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(c.jsx)(bt.Provider,{value:{state:n,dispatch:i},children:Object(c.jsx)(dt,{})})})},pt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,424)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(Ot,{})}),document.getElementById("root")),pt()}},[[404,1,2]]]);
//# sourceMappingURL=main.cec9279b.chunk.js.map